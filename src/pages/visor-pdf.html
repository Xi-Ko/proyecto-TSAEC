<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Visor de PDF - TSAEC</title>
    <link rel="stylesheet" href="/src/styles/visor-pdf.css" />
    <link rel="stylesheet" href="/src/styles/pdfjs/viewer.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link rel="stylesheet" href="/src/components/header/header.css">
    <style>
      #pdf-container {
        width: 100%;
        height: calc(100vh - 80px);
        margin-top: 80px;
        position: relative;
      }

      #pdf-viewer {
        width: 100%;
        height: 100%;
        border: none;
      }

      /* Personalizaci√≥n del visor PDF.js */
      :root {
        --toolbar-bg-color: rgba(255, 255, 255, 0.1);
        --toolbar-border-color: rgba(255, 255, 255, 0.2);
        --toolbar-text-color: white;
        --toolbar-hover-color: var(--primary-color);
      }

      #toolbarViewerLeft,
      #toolbarViewerRight,
      #toolbarViewerMiddle {
        background: var(--toolbar-bg-color);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border: 1px solid var(--toolbar-border-color);
        border-radius: 10px;
        padding: 5px;
      }

      .toolbarButton {
        color: var(--toolbar-text-color) !important;
      }

      .toolbarButton:hover {
        background-color: var(--toolbar-hover-color) !important;
      }

      /* Ocultar elementos no deseados */
      #sidebarToggle,
      #scaleSelect,
      #pageRotateCcw,
      #pageRotateCw,
      #presentationMode,
      #openFile,
      #viewBookmark {
        display: none !important;
      }
    </style>
  </head>
  <body>
    <div class="ocean-overlay"></div>
    <div id="header-container"></div>

    <div id="pdf-container">
      <iframe
        id="pdf-viewer"
        src="/src/js/pdfjs/web/viewer.html?file=/src/assets/pdfs/folleto-transporte-sustentable.pdf"
      ></iframe>
    </div>

    <footer class="main-footer">
      <div class="social-links">
        <a href="#"><i class="fab fa-instagram"></i></a>
        <a href="#"><i class="fab fa-facebook"></i></a>
        <a href="#"><i class="fab fa-twitter"></i></a>
      </div>
      <p>&copy; 2025 TSAEC. Todos los derechos reservados.</p>
    </footer>

    <script src="/src/js/pdfjs/build/pdf.js"></script>
    <script src="/src/js/config/pdfjs-config.js"></script>
    <script src="/src/components/header/header.js"></script>
    <script>
      // Load header and initialize menu
      fetch("/src/components/header/header.html")
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("header-container").innerHTML = data;
          // Initialize header functionality after loading
          const menuToggle = document.querySelector(".menu-toggle");
          const navLinks = document.querySelector(".nav-links");
          const header = document.querySelector(".header-wave");

          // Toggle menu
          menuToggle.addEventListener("click", function () {
            menuToggle.classList.toggle("active");
            navLinks.classList.toggle("active");
          });

          // Close menu when clicking outside
          document.addEventListener("click", function (event) {
            const isClickInside = header.contains(event.target);
            if (!isClickInside && navLinks.classList.contains("active")) {
              menuToggle.classList.remove("active");
              navLinks.classList.remove("active");
            }
          });

          // Close menu when clicking a link
          navLinks.querySelectorAll("a").forEach((link) => {
            link.addEventListener("click", function () {
              menuToggle.classList.remove("active");
              navLinks.classList.remove("active");
            });
          });

          // Add active class to current page link
          const currentPage = window.location.pathname;
          navLinks.querySelectorAll("a").forEach((link) => {
            if (link.getAttribute("href") === currentPage) {
              link.classList.add("active");
            }
          });
        });
    </script>
  </body>
</html>
